<Window x:Class="CellManager.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:mahapps="http://mahapps.com/winfx/xaml/themes"
        xmlns:materialDesign="http://materialdesigninxaml.net/winfx/xaml/themes"
        xmlns:vm="clr-namespace:CellManager.ViewModels"
        xmlns:viewsCellLibary="clr-namespace:CellManager.Views.CellLibary"
        xmlns:viewsTestSetup="clr-namespace:CellManager.Views.TestSetup"
        xmlns:views="clr-namespace:CellManager.Views"
        xmlns:converters="clr-namespace:CellManager.Converters"
        Title="Cell Manager" Height="800" Width="1600">

    <Window.Resources>
        <converters:NullOrEmptyToPlaceholderConverter x:Key="NullOrEmptyToPlaceholderConverter" />
        <DataTemplate DataType="{x:Type vm:HomeViewModel}">
            <views:HomeView/>
        </DataTemplate>
        <DataTemplate DataType="{x:Type vm:CellLibraryViewModel}">
            <viewsCellLibary:CellLibraryView/>
        </DataTemplate>
        <DataTemplate DataType="{x:Type vm:TestSetupViewModel}">
            <viewsTestSetup:TestSetupView/>
        </DataTemplate>
        <DataTemplate DataType="{x:Type vm:ScheduleViewModel}">
            <views:ScheduleView/>
        </DataTemplate>
        <DataTemplate DataType="{x:Type vm:RunViewModel}">
            <views:RunView/>
        </DataTemplate>
        <DataTemplate DataType="{x:Type vm:DisplayViewModel}">
            <Grid Background="#FFFFFF">
                <TextBlock Text="Display Content" HorizontalAlignment="Center" VerticalAlignment="Center" FontSize="20"/>
            </Grid>
        </DataTemplate>
        <DataTemplate DataType="{x:Type vm:AnalysisViewModel}">
            <views:AnalysisView/>
        </DataTemplate>
        <DataTemplate DataType="{x:Type vm:DataExportViewModel}">
            <Grid Background="#FFFFFF">
                <TextBlock Text="Data Export Content" HorizontalAlignment="Center" VerticalAlignment="Center" FontSize="20"/>
            </Grid>
        </DataTemplate>
        <DataTemplate DataType="{x:Type vm:SettingsViewModel}">
            <views:SettingsView/>
        </DataTemplate>
        <DataTemplate DataType="{x:Type vm:HelpViewModel}">
            <views:HelpView/>
        </DataTemplate>

        <Style TargetType="TabItem">
            <Setter Property="Background" Value="#F8F8F8"/>
            <Setter Property="FontWeight" Value="Medium"/>
            <Setter Property="Margin" Value="0,5,0,5"/>
            <Setter Property="Padding" Value="25,15"/>
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="TabItem">
                        <Border Name="Border"  BorderBrush="White" CornerRadius="3">
                            <ContentPresenter x:Name="ContentSite"
                                              Width="150"
                                              VerticalAlignment="Center"
                                              HorizontalAlignment="Stretch"
                                              ContentSource="Header"
                                              Margin="0,0,0,0"/>
                        </Border>
                        <ControlTemplate.Triggers>
                            <Trigger Property="IsSelected" Value="True">
                                <Setter TargetName="Border" Property="Background" Value="#888888"/>
                                <Setter Property="Foreground" Value="White"/>
                                <Setter Property="FontWeight" Value="SemiBold"/>
                            </Trigger>
                            <Trigger Property="IsMouseOver" Value="True">
                                <Setter TargetName="Border" Property="Background" Value="#DEDEDE"/>
                            </Trigger>
                            <Trigger Property="IsEnabled" Value="False">
                                <Setter Property="Foreground" Value="#888888"/>
                            </Trigger>
                        </ControlTemplate.Triggers>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>
    </Window.Resources>

    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
        </Grid.RowDefinitions>
        <Grid.ColumnDefinitions>
            <ColumnDefinition Width="150"/>
            <ColumnDefinition Width="*"/>
        </Grid.ColumnDefinitions>
        <Border Grid.Row="0" Grid.ColumnSpan="2" Background="#F8F8F8" BorderBrush="#E0E0E0" BorderThickness="1,1,1,1">
            <Grid Margin="20,10">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="Auto"/>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="Auto"/>
                </Grid.ColumnDefinitions>

                <StackPanel Orientation="Horizontal" Grid.Column="0">
                    <materialDesign:PackIcon Kind="Internet" VerticalAlignment="Center" Margin="0,0,10,0"/>
                    <TextBlock Text="{Binding SQLStatus, Converter={StaticResource NullOrEmptyToPlaceholderConverter}, ConverterParameter='N/A', FallbackValue='N/A'}" VerticalAlignment="Center"/>
                    <Rectangle Width="1" Height="20" Fill="#E0E0E0" Margin="20,0"/>

                    <materialDesign:PackIcon Kind="Connection" VerticalAlignment="Center" Margin="0,0,10,0"/>
                    <TextBlock Text="{Binding BoardStatus.Connect, Converter={StaticResource NullOrEmptyToPlaceholderConverter}, ConverterParameter='N/A', FallbackValue='N/A'}" VerticalAlignment="Center"/>
                    <Rectangle Width="1" Height="20" Fill="#E0E0E0" Margin="10,0"/>

                    <materialDesign:PackIcon Kind="DeveloperBoard" VerticalAlignment="Center" Margin="0,0,10,0"/>
                    <TextBlock Text="{Binding BoardStatus.Mode, Converter={StaticResource NullOrEmptyToPlaceholderConverter}, ConverterParameter='N/A', FallbackValue='N/A'}" VerticalAlignment="Center" />
                    <Rectangle Width="1" Height="20" Fill="#E0E0E0" Margin="10,0"/>

                    <materialDesign:PackIcon Kind="Battery"  VerticalAlignment="Center" Margin="0,0,10,0"/>
                    <TextBlock Text="{Binding SelectedCell.DisplayNameAndId, Converter={StaticResource NullOrEmptyToPlaceholderConverter}, ConverterParameter='No Cell Selected', FallbackValue='No Cell Selected'}" VerticalAlignment="Center" />
                </StackPanel>

                <StackPanel Orientation="Horizontal" Grid.Column="2" HorizontalAlignment="Right">
                    <materialDesign:PackIcon Kind="Information" />
                    <TextBlock Text="{Binding BoardVersion, Converter={StaticResource NullOrEmptyToPlaceholderConverter}, ConverterParameter='N/A', FallbackValue='N/A', StringFormat='Version {0}'}" VerticalAlignment="Center"/>
                </StackPanel>
            </Grid>
        </Border>
        <Border Grid.Row="1" Background="#F8F8F8" BorderBrush="#E0E0E0" BorderThickness="0,0,1,0"/>
        <Grid Grid.Row="1" Grid.ColumnSpan="2">
            <TabControl TabStripPlacement="Left" 
                        ItemsSource="{Binding NavigationItems,FallbackValue=sample}" 
                        SelectedItem="{Binding CurrentViewModel}">

                <TabControl.ItemTemplate>
                    <DataTemplate>
                        <StackPanel Height="50" Margin="0,-5,0,-5"  VerticalAlignment="Top" Orientation="Horizontal">
                            <materialDesign:PackIcon Kind="{Binding IconName, FallbackValue=Sample}" Height="15" Width="15" VerticalAlignment="Center" Margin="20,0,10,0"/>
                            <TextBlock Text="{Binding HeaderText, FallbackValue=Sample}" VerticalAlignment="Center" Width="Auto" FontSize="13" />
                        </StackPanel>
                    </DataTemplate>
                </TabControl.ItemTemplate>

                <TabControl.ItemContainerStyle>
                    <Style TargetType="TabItem" BasedOn="{StaticResource {x:Type TabItem}}">
                        <Setter Property="IsEnabled" Value="{Binding IsViewEnabled}"/>
                    </Style>
                </TabControl.ItemContainerStyle>
            </TabControl>
        </Grid>
    </Grid>
</Window>